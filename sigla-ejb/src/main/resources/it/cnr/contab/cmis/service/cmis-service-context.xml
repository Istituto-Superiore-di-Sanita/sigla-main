<?xml version='1.0' encoding='UTF-8'?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd">
	
	<!-- This will automatically locate any and all property files you have
		within your classpath, provided they fall under the META-INF/spring directory.
		The located property files are parsed and their values can then be used within
		application context files in the form of ${propertyKey}. -->
	
    <bean id="cmis.converter.defaultConverter" class="it.cnr.contab.cmis.converter.DefaultConverter"/>
    <bean id="cmis.converter.timestampToCalendarConverter" class="it.cnr.contab.cmis.converter.TimestampToCalendarConverter"/>
    <bean id="cmis.converter.longToIntegerConverter" class="it.cnr.contab.cmis.converter.LongToIntegerConverter"/>
    <bean id="cmisBulkInfo" class="it.cnr.contab.cmis.service.CMISBulkInfo"/>
    
    <bean id="cmisService" class="it.cnr.contab.cmis.service.SiglaCMISService" init-method="init">
   		<property name="cmisBulkInfo" ref="cmisBulkInfo"/>
		<property name="baseURL" value="${repository.base.url}"/>
		<property name="serverParameters">
			<map>
				<entry key="org.apache.chemistry.opencmis.binding.atompub.url"
					value="${org.apache.chemistry.opencmis.binding.atompub.url}" />
				<entry key="org.apache.chemistry.opencmis.binding.spi.type"
					value="${org.apache.chemistry.opencmis.binding.spi.type}" />
				<entry key="org.apache.chemistry.opencmis.binding.connecttimeout"
					value="${org.apache.chemistry.opencmis.binding.connecttimeout}" />
				<entry key="org.apache.chemistry.opencmis.binding.readtimeout"
					value="${org.apache.chemistry.opencmis.binding.readtimeout}" />
				<entry key="org.apache.chemistry.opencmis.binding.httpinvoker.classname"
					value="${org.apache.chemistry.opencmis.binding.httpinvoker.classname}" />
				<entry key="user.admin.username" value="${user.admin.username}" />
				<entry key="user.admin.password" value="${user.admin.password}" />
			</map>
		</property>   				
   	</bean>

    <bean id="cmisPathConcFormazReddito" class="it.cnr.contab.cmis.service.CMISPath" scope="prototype">
    	<property name="path" value="/Altri pagamenti C.N.R/Concorrenti alla formazione del reddito (inclusi nel CUD)"/>
    </bean>
    <bean id="cmisPathNonConcFormazReddito" class="it.cnr.contab.cmis.service.CMISPath" scope="prototype">
    	<property name="path" value="/Altri pagamenti C.N.R/Non concorrenti alla formazione del reddito"/>
    </bean>
    <bean id="cmisPathIndAnzianita" class="it.cnr.contab.cmis.service.CMISPath" scope="prototype">
    	<property name="path" value="/Altri pagamenti C.N.R/Indennità di anzianità"/>
    </bean>
    <bean id="cmisPathVariazioniAlPianoDiGestione" class="it.cnr.contab.cmis.service.CMISPath" scope="prototype">
    	<property name="path" value="/Variazioni Al Piano di Gestione"/>
    </bean>
 	<bean id="cmisPathContratti" class="it.cnr.contab.cmis.service.CMISPath" scope="prototype">
     	<property name="path" value="/Comunicazioni dal CNR"/>
    </bean>    
 	<bean id="cmisPathFatture" class="it.cnr.contab.cmis.service.CMISPath" scope="prototype">
     	<property name="path" value="/Comunicazioni dal CNR"/>
    </bean>    
    <bean id="cmisPathFatturePassive" class="it.cnr.contab.cmis.service.CMISPath" scope="prototype">
        <property name="path" value="/Comunicazioni al CNR/Fatture passive"/>
    </bean>    
    <bean id="cmisPathComunicazioniAlCNR" class="it.cnr.contab.cmis.service.CMISPath" scope="prototype">
        <property name="path" value="/Comunicazioni al CNR"/>
    </bean>    
    <bean id="cmisPathComunicazioniDalCNR" class="it.cnr.contab.cmis.service.CMISPath" scope="prototype">
        <property name="path" value="/Comunicazioni dal CNR"/>
    </bean>    

    <bean id="pdgVariazioniService" class="it.cnr.contab.pdg00.service.PdgVariazioniService" parent="cmisService"/>
    <bean id="contrattiService" class="it.cnr.contab.incarichi00.service.ContrattiService" parent="cmisService"/>
    <bean id="contrattoService" class="it.cnr.contab.config00.service.ContrattoService" parent="cmisService"/>
    <bean id="contabiliService" class="it.cnr.contab.doccont00.service.ContabiliService" parent="cmisService"/>
    <bean id="documentiCollegatiDocAmmService" class="it.cnr.contab.docamm00.service.DocumentiCollegatiDocAmmService" parent="cmisService"/>
</beans>